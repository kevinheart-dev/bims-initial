import{j as e}from"./app-FQbzxGIw.js";import{I as m}from"./InputField-DUwBnDWI.js";import{I as n}from"./InputError-BKQpvrj7.js";import{D as c}from"./DropdownInputField-D0XusS6V.js";import{R as y}from"./RadioGroup-sRdtrAye.js";import{S as u}from"./SelectField-B4xCJfut.js";import{Y as E}from"./YearDropdown-CrpNGByB.js";import{I as h,a as p}from"./index-BtiFw4lQ.js";const Y=({data:t,setData:o,errors:i,handleArrayValues:x,puroks:w,households:b=[],streets:f,head:k=!1})=>{const N=w.map(l=>({label:"Purok "+l,value:l.toString()})),C=f.map(l=>({label:l.street_name,value:l.id.toString()})),S=b==null?void 0:b.map(l=>({label:l.household.house_number.toString().padStart(4,"0")+" || "+l.lastname+"'s Residence",value:l.household.id.toString()})),P=()=>{o("livestocks",[...t.livestocks||[],{}])},A=l=>{const s=[...t.livestocks||[]];s.splice(l,1),o("livestocks",s)},F=()=>{o("pets",[...t.pets||[],{}])},L=l=>{const s=[...t.pets||[]];s.splice(l,1),o("pets",s)},R=l=>{const s=parseInt(l.target.value),a=b.find(d=>d.household_id===s&&d.is_household_head===1),r=a?[a.firstname,a.middlename,a.lastname,a.suffix].filter(Boolean).join(" "):"";o("housenumber",s.toString()),o("name_of_head",r)},H=l=>{const s=Number(l.target.value),a=f.find(r=>r.id==s);a&&(o("street_id",a.id),o("street_name",(a==null?void 0:a.street_name)||""),o("purok_id",a.purok.id),o("purok_number",a.purok.purok_number))},v=(l,s={})=>{const r=[...t[l]||[],s];o(d=>({...d,[l]:r}))},_=(l,s)=>{const a=[...t[l]||[]];a.splice(s,1),o(r=>({...r,[l]:a}))},g=(l,s,a)=>{const{name:r,value:d}=a.target,j=[...t[l]||[]];j[s]={...j[s],[r]:d},o(I=>({...I,[l]:j}))};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-8",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-2 mt-5",children:"House Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please provide the necessary house details. If you are the head of the household, some fields will be editable."}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(c,{type:"text",label:"House/Unit No./Lot/Blk No.",name:"housenumber",value:t.housenumber||"",onChange:l=>R(l),placeholder:"Select or enter house number",items:S}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your assigned house or lot number."}),e.jsx(n,{message:i.housenumber,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(m,{type:"text",label:"Head of Household",name:"name_of_head",value:t.name_of_head||"",placeholder:"Head of Household",disabled:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field displays the head of the household."}),e.jsx(n,{message:i.name_of_head,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(u,{label:"Relationship to Household Head",name:"relationship_to_head",value:t.relationship_to_head||"",onChange:l=>o("relationship_to_head",l.target.value),placeholder:"Select relationship",required:!0,items:[{label:"Spouse",value:"spouse",subtitle:"Legally married partner of the head"},{label:"Child",value:"child",subtitle:"Son or daughter of the head"},{label:"Sibling",value:"sibling",subtitle:"Brother or sister of the head"},{label:"Parent",value:"parent",subtitle:"Father or mother of the head"},{label:"Parent-in-law",value:"parent_in_law",subtitle:"Parent of the head's spouse"},{label:"Sibling of Spouse",value:"sibling-of-spouse",subtitle:"Brother or sister of the spouse"},{label:"Spouse of (Sibling of Spouse)",value:"spouse-of-sibling-of-spouse",subtitle:"Spouse of your sibling-in-law"},{label:"Spouse of Sibling",value:"spouse-sibling",subtitle:"Spouse of your sibling"},{label:"Niece/Nephew",value:"niblings",subtitle:"Child of your sibling or sibling-in-law"},{label:"Grandparent",value:"grandparent",subtitle:"Grandfather or grandmother of the head"}]}),e.jsx(n,{message:i.relationship_to_head,className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select how this resident is related to the head of the household. This helps establish family connections and proper household records."})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(m,{type:"text",label:"Street Name",name:"street_name",value:t.street_name||"",placeholder:"e.g., Rizal St., Mabini Avenue",disabled:t.is_household_head!=1}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide the street where your house is located."}),e.jsx(n,{message:i.street_name,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(m,{type:"text",label:"Subdivision/Village/Compound",name:"subdivision",value:t.subdivision||"",onChange:l=>o("subdivision",l.target.value),placeholder:"e.g., Villa Gloria Subdivision",disabled:t.is_household_head!=1}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the subdivision or village name if applicable."}),e.jsx(n,{message:i.subdivision,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(u,{label:"Purok Number",name:"purok_number",value:t.purok_number||"",onChange:l=>o("purok_number",l.target.value),items:N,disabled:t.is_household_head!=1}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the assigned Purok number."}),e.jsx(n,{message:i.purok_number,className:"mt-1"})]})]})})]}),k!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{type:"text",label:"House/Unit No./Lot/Blk No.",name:"housenumber",value:t.housenumber||"",onChange:l=>o("housenumber",l.target.value),placeholder:"Select or enter house number"}),e.jsx(n,{message:i.housenumber,className:"mt-2"})]}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(c,{label:"Street Name",name:"street_id",type:"text",value:t.street_name,onChange:l=>H(l),placeholder:"e.g., Rizal St., Mabini Avenue",items:C}),e.jsx(n,{message:i.street_id,className:"mt-2"})]})}),e.jsxs("div",{children:[e.jsx(m,{type:"text",label:"Subdivision/Village/Compound",name:"subdivision",value:t.subdivision||"",onChange:l=>o("subdivision",l.target.value),placeholder:"e.g., Villa Gloria Subdivision"}),e.jsx(n,{message:i.subdivision,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"Purok Number",name:"purok_number",value:t.purok_number||"",onChange:l=>o("purok_number",l.target.value),items:N}),e.jsx(n,{message:i.purok_number,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{label:"Ownership Type",name:"ownership_type",value:t.ownership_type||"",onChange:l=>{o("ownership_type",l.target.value)},placeholder:"Select or enter ownership type",items:["owned","rented","shared","goverment-provided","inherited"]}),e.jsx(n,{message:i.ownership_type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"Housing Condition",name:"housing_condition",value:t.housing_condition||"",onChange:l=>o("housing_condition",l.target.value),placeholder:"Select house condition",items:[{label:"Good",value:"good"},{label:"Needs Repair",value:"needs_repair"},{label:"Dilapidated",value:"dilapidated"}]}),e.jsx(n,{message:i.housing_condition,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"House Structure",name:"house_structure",value:t.house_structure||"",onChange:l=>o("house_structure",l.target.value),placeholder:"Select or Enter house structure",items:[{label:"Concrete",value:"concrete"},{label:"Semi-Concrete",value:"semi_concrete"},{label:"Wood",value:"wood"},{label:"Makeshift",value:"makeshift"}]}),e.jsx(n,{message:i.house_structure,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(E,{label:"Year Establish",name:"year_established",value:t.year_established||"",onChange:l=>o("year_established",l.target.value),placeholder:"Select year"}),e.jsx(n,{message:i.year_established,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{type:"number",label:"Number of Rooms",name:"number_of_rooms",value:t.number_of_rooms||"",onChange:l=>o("number_of_rooms",l.target.value),placeholder:"Enter number of rooms"}),e.jsx(n,{message:i.number_of_rooms,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{type:"number",label:"Number of Floors",name:"number_of_floors",value:t.number_of_floors||"",onChange:l=>o("number_of_floors",l.target.value),placeholder:"Enter number of floors"}),e.jsx(n,{message:i.number_of_floors,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{label:"Bath and Wash Area",name:"bath_and_wash_area",value:t.bath_and_wash_area||"",onChange:l=>o("bath_and_wash_area",l.target.value),placeholder:"Select or Enter",items:[{label:"with own sink and bath",value:"with_own_sink_and_bath"},{label:"with own sink only",value:"with_own_sink_only"},{label:"with own bath only",value:"with_own_bath_only"},{label:"shared or communal",value:"shared_or_communal"},{label:"none",value:"none"}]}),e.jsx(n,{message:i.bath_and_wash_area,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{label:"Internet Connection Type",name:"type_of_internet",value:t.type_of_internet||"",onChange:l=>o("type_of_internet",l.target.value),placeholder:"Select internet connection type",items:[{label:"Mobile Data",value:"mobile_data"},{label:"Wireless Fidelity (Wi-Fi)",value:"wireless_fidelity"},{label:"None",value:"none"}]}),e.jsx(n,{message:i.type_of_internet,className:"mt-2"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-0 mt-4",children:"Type of Toilet(s)"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[(t.toilets||[]).map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{children:[e.jsx(c,{name:"toilet_type",value:l.toilet_type||"",onChange:a=>g("toilets",s,a),placeholder:"Select toilet type",items:[{label:"Water sealed",value:"water_sealed"},{label:"Compost pit toilet",value:"compost_pit_toilet"},{label:"Shared communal public toilet",value:"shared_communal_public_toilet"},{label:"Shared or communal",value:"shared_or_communal"},{label:"No latrine",value:"no_latrine"}]}),e.jsx(n,{message:i==null?void 0:i[`toilets.${s}.toilet_type`],className:"mt-1"})]}),t.toilets.length>1&&e.jsx("button",{type:"button",onClick:()=>_("toilets",s),className:"text-red-500 hover:text-red-700 text-xl",children:e.jsx(h,{})})]},s)),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>v("toilets",{toilet_type:""}),className:"text-blue-600 hover:text-blue-800 text-3xl",children:e.jsx(p,{})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Add type of toilet"})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-0 mt-4",children:"Electricity Source(s)"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[(t.electricity_types||[]).map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{children:[e.jsx(c,{name:"electricity_type",value:l.electricity_type||"",onChange:a=>g("electricity_types",s,a),placeholder:"Select electricity source",items:[{label:"ISELCO II",value:"distribution_company_iselco_ii"},{label:"Generator",value:"generator"},{label:"Solar / Renewable",value:"solar_renewable_energy_source"},{label:"Battery",value:"battery"},{label:"None",value:"none"}]}),e.jsx(n,{message:i==null?void 0:i[`electricity_types.${s}.electricity_type`],className:"mt-1"})]}),t.electricity_types.length>1&&e.jsx("button",{type:"button",onClick:()=>_("electricity_types",s),className:"text-red-500 hover:text-red-700 text-xl",children:e.jsx(h,{})})]},s)),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>v("electricity_types",{electricity_type:""}),className:"text-blue-600 hover:text-blue-800 text-3xl",children:e.jsx(p,{})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Add electricity source"})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-0 mt-4",children:"Water Source(s)"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[(t.water_source_types||[]).map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{children:[e.jsx(c,{name:"water_source_type",value:l.water_source_type||"",onChange:a=>g("water_source_types",s,a),placeholder:"Select water source",items:[{label:"Level II",value:"level_ii_water_system"},{label:"Level III",value:"level_iii_water_system"},{label:"Deep Well",value:"deep_well_level_i"},{label:"Artesian Well",value:"artesian_well_level_i"},{label:"Shallow Well",value:"shallow_well_level_i"},{label:"Refill Source",value:"commercial_water_refill_source"},{label:"None",value:"none"}]}),e.jsx(n,{message:i==null?void 0:i[`water_source_types.${s}.water_source_type`],className:"mt-1"})]}),t.water_source_types.length>1&&e.jsx("button",{type:"button",onClick:()=>_("water_source_types",s),className:"text-red-500 hover:text-red-700 text-xl",children:e.jsx(h,{})})]},s)),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>v("water_source_types",{water_source_type:""}),className:"text-blue-600 hover:text-blue-800 text-3xl",children:e.jsx(p,{})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Add water source"})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-0 mt-4",children:"Waste Disposal Method(s)"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[(t.waste_management_types||[]).map((l,s)=>e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{children:[e.jsx(c,{name:"waste_management_type",value:l.waste_management_type||"",onChange:a=>g("waste_management_types",s,a),placeholder:"Select waste disposal method",items:[{label:"Open Dump",value:"open_dump_site"},{label:"Sanitary Landfill",value:"sanitary_landfill"},{label:"Compost Pits",value:"compost_pits"},{label:"Material Recovery",value:"material_recovery_facility"},{label:"Garbage Collected",value:"garbage_is_collected"},{label:"None",value:"none"}]}),e.jsx(n,{message:i==null?void 0:i[`waste_management_types.${s}.waste_management_type`],className:"mt-1"})]}),t.waste_management_types.length>1&&e.jsx("button",{type:"button",onClick:()=>_("waste_management_types",s),className:"text-red-500 hover:text-red-700 text-xl",children:e.jsx(h,{})})]},s)),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>v("waste_management_types",{waste_management_type:""}),className:"text-blue-600 hover:text-blue-800 text-3xl",children:e.jsx(p,{})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Add waste disposal method"})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("hr",{className:"h-[2px] bg-sky-500 border-0 mt-7"}),e.jsx("p",{className:"font-bold text-lg mt-3 text-gray-800",children:"Livestock Ownership Details"})]}),e.jsxs("div",{className:"grid md:grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsx(y,{label:"Do you have a livestock?",name:"has_livestock",options:[{label:"Yes",value:1},{label:"No",value:0}],selectedValue:t.has_livestock||"",onChange:l=>o("has_livestock",l.target.value)})}),e.jsx("div",{children:t.has_livestock==1?e.jsxs(e.Fragment,{children:[t.livestocks.length===0&&e.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:"No livestock added yet."}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.livestocks.map((l,s)=>e.jsxs("div",{className:"relative mb-4 p-4 bg-sky-100 border rounded-md",children:[e.jsxs("div",{children:[e.jsx(c,{label:"Livestock animal",name:"livestock_type",value:l.livestock_type||"",onChange:a=>x(a,s,"livestock_type","livestocks"),placeholder:"Select or enter type of animal",items:["cattle","carabao","goat","pig","chicken","duck","sheep","horse"]}),e.jsx(n,{message:i[`livestocks.${s}.livestock_type`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{label:"Quantity",name:"quantity",value:l.quantity||"",onChange:a=>x(a,s,"quantity","livestocks"),placeholder:"Enter quantity",type:"number"}),e.jsx(n,{message:i[`livestocks.${s}.quantity`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"Purpose",name:"purpose",value:l.purpose||"",onChange:a=>x(a,s,"purpose","livestocks"),placeholder:"Select purpose",items:[{label:"Personal Consumption",value:"personal_consumption"},{label:"Commercial",value:"commercial"},{label:"Both",value:"both"}]}),e.jsx(n,{message:i[`livestocks.${s}.purpose`],className:"mt-2"})]}),e.jsx("button",{type:"button",onClick:()=>A(s),className:"absolute top-2 right-2 text-red-400 hover:text-red-700 text-xl",title:"Remove livestock",children:e.jsx(h,{className:"text-2xl"})})]},s))}),e.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-base mt-2 font-medium",title:"Add livestock",children:[e.jsx(p,{className:"text-2xl"}),"Add Livestock"]})]}):t.has_livestock==0?e.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:"No livestock declared."}):null})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("hr",{className:"h-[2px] bg-sky-500 border-0 mt-7"}),e.jsx("p",{className:"font-bold text-md mt-3 text-gray-800",children:"Pet Ownership Details"})]}),e.jsxs("div",{className:"grid md:grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsx(y,{label:"Do you have a Pets?",name:"has_pets",options:[{label:"Yes",value:1},{label:"No",value:0}],selectedValue:t.has_pets||"",onChange:l=>o("has_pets",l.target.value)})}),e.jsx("div",{children:t.has_pets==1?e.jsxs(e.Fragment,{children:[t.pets.length===0&&e.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:"No pet added yet."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.pets.map((l,s)=>e.jsxs("div",{className:"relative mb-4 p-4 bg-sky-100 border rounded-md",children:[e.jsxs("div",{children:[e.jsx(c,{label:"Type of Pet",name:"pet_type",value:l.pet_type||"",onChange:a=>x(a,s,"pet_type","pets"),placeholder:"Select or enter type of pet",items:["dog","cat","rabbit"]}),e.jsx(n,{message:i[`pets.${s}.pet_type`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(y,{label:"Is the pet vaccinated for rabies?",name:"is_vaccinated",options:[{label:"Yes",value:1},{label:"No",value:0}],selectedValue:l.is_vaccinated||"",onChange:a=>x(a,s,"is_vaccinated","pets")}),e.jsx(n,{message:i[`pets.${s}.is_vaccinated`],className:"mt-2"})]}),e.jsx("button",{type:"button",onClick:()=>L(s),className:"absolute top-2 right-2 text-red-400 hover:text-red-700 text-xl",title:"Remove pet",children:e.jsx(h,{className:"text-2xl"})})]},s)),e.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-base mt-2 font-medium",title:"Add pet",children:[e.jsx(p,{className:"text-2xl"}),"Add Pet"]})]})]}):t.has_pets==0?e.jsx("p",{className:"text-sm text-gray-500 italic mt-2",children:"No pet declared."}):null})]})]})]})]})]})};export{Y as S};
