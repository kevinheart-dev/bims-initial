import{r as p,j as a}from"./app-CSbLTV9t.js";import{R as m}from"./ResponsiveContainer-Bhq93f28.js";import{P as f,a as u}from"./PieChart-BoQEpTia.js";import{C as h}from"./CategoricalChart-BYydL1pq.js";import{T as x}from"./Tooltip-CncnyhqP.js";import{L as g}from"./Legend-Bb660MPI.js";import"./clsx-B-dksMZM.js";import"./string-CFFdVFMV.js";import"./index-CLKsPuj0.js";const y=n=>{if(!n||n.length===0)return[];const l=[...n].sort((e,t)=>t.population-e.population).slice(0,10),r=l.reduce((e,t)=>e+(t.population||0),0);return l.map(e=>({name:e.barangay_name,value:e.population||0,percentage:(e.population/r*100).toFixed(2)}))},d=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EF4444","#06B6D4","#84CC16","#EC4899","#6366F1","#F97316"],R=({populationPerBarangay:n})=>{const s=y(n),[l,r]=p.useState(120),[e,t]=p.useState(14);return p.useEffect(()=>{const i=()=>{const o=window.innerWidth;o<480?(r(70),t(10)):o<768?(r(90),t(12)):o<1024?(r(90),t(13)):(r(130),t(15))};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),a.jsx("div",{className:"w-full h-[220px] sm:h-[100px] md:h-[310px] lg:h-[270px] xl:h-[370px]",children:s.length>0?a.jsx(m,{width:"100%",height:"100%",children:a.jsxs(f,{children:[a.jsx(u,{data:s,dataKey:"value",nameKey:"name",cx:"45%",cy:"50%",outerRadius:l,labelLine:!1,isAnimationActive:!0,animationDuration:800,children:s.map((i,o)=>a.jsx(h,{fill:d[o%d.length],stroke:"#ffffff",strokeWidth:2},`cell-${o}`))}),a.jsx(x,{formatter:(i,o,c)=>[`${i.toLocaleString()} residents (${c.payload.percentage}%)`,c.payload.name],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"0.75rem",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",fontSize:`${e}px`,fontWeight:500,color:"#111827"}}),a.jsx(g,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",wrapperStyle:{paddingLeft:10,lineHeight:"1.6rem",fontSize:`${e}px`}})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm sm:text-base",children:"No sufficient data to display Top 10 chart."})})};export{R as default};
