import{r as c,j as t}from"./app-CSbLTV9t.js";import{R as x}from"./ResponsiveContainer-Bhq93f28.js";import{B as u,Y as m,a as f,L as d}from"./BarChart-BligJuy-.js";import{C as p}from"./CartesianGrid-D0le-H4a.js";import{X as h}from"./XAxis-ByiOyYnE.js";import{T as j}from"./Tooltip-CncnyhqP.js";import"./clsx-B-dksMZM.js";import"./CategoricalChart-BYydL1pq.js";import"./string-CFFdVFMV.js";import"./Label-CAYtwpj9.js";import"./index-CLKsPuj0.js";const b=({active:l,payload:a,label:r})=>{var e,o;const s=a.find(i=>i.dataKey==="total"),n=s?s.value:"N/A";return(e=a[0])==null||e.payload.education,l&&a&&a.length?t.jsxs("div",{className:"bg-white px-4 py-2 shadow-lg rounded-2xl border border-gray-200 text-sm text-gray-800 min-w-[160px]",children:[t.jsxs("p",{className:"font-semibold text-gray-700",children:["Education Level: ",r]}),t.jsxs("p",{className:"font-semibold text-gray-700",children:["Total Count: ",t.jsx("span",{className:"font-bold",children:n.toLocaleString()})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",((o=a[0])==null?void 0:o.payload.selectedStatus)||"All"]})]}):null},g=({x:l,y:a,width:r,height:s,value:n})=>{const e=l+r/2,o=a+s/2;return s<20?null:t.jsx("text",{x:e,y:o,fill:"#1e3a8a",textAnchor:"middle",dominantBaseline:"middle",transform:`rotate(-90, ${e}, ${o})`,style:{fontSize:"10px",fontWeight:"bold",pointerEvents:"none"},children:n})},y=["Graduated","Currently Enrolled","Incomplete","Dropped Out"];function K({educationData:l}){const[a,r]=c.useState("All"),s={};l.forEach(e=>{const o=e.educational_attainment_label,i=e.education_status_label;s[o]||(s[o]={education:o,total:0,selectedStatus:a}),a==="All"?s[o].total+=e.total_count:i===a&&(s[o].total=e.total_count)}),Object.values(s).forEach(e=>e.selectedStatus=a);const n=Object.values(s);return t.jsxs("div",{className:"w-full h-[320px] p-4 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-gray-700 font-semibold text-lg",children:"Education Level vs Status"}),t.jsx("div",{className:"flex flex-nowrap gap-1",children:["All",...y].map(e=>t.jsx("button",{onClick:()=>r(e),className:`px-3 py-1 text-[11px] rounded-full border transition whitespace-nowrap
                                ${a===e?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-600 border-gray-300 hover:bg-gray-100"}`,children:e},e))})]}),t.jsx("div",{className:"flex-1",children:t.jsx(x,{width:"100%",height:"100%",children:t.jsxs(u,{data:n,margin:{top:10,right:10,left:-35,bottom:35},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"whiteToBlue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"white"}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]})}),t.jsx(p,{strokeDasharray:"3 3"}),t.jsx(h,{dataKey:"education",hide:!0}),t.jsx(m,{allowDecimals:!1,tick:{fontSize:10}}),t.jsx(j,{content:t.jsx(b,{})}),t.jsxs(f,{dataKey:"total",fill:"url(#whiteToBlue)",barSize:35,radius:[8,8,0,0],children:[t.jsx(d,{dataKey:"total",position:"top",formatter:e=>e>0?e.toLocaleString():"",style:{fontSize:"11px",fill:"#1e3a8a",fontWeight:"bold"}}),t.jsx(d,{dataKey:"education",content:t.jsx(g,{})})]})]})})})]})}export{K as default};
