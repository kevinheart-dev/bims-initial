<<<<<<<< HEAD:public/build/assets/Create-CiKYc8Nq.js
import{K as R,m as k,r as h,j as e,L as S}from"./app-CxQIk-Ug.js";import I from"./BreadcrumbsHeader-ztKk4f-G.js";import{I as i}from"./InputError-B_I55Pol.js";import{I as p}from"./InputField-ClYvY_TS.js";import{I as l}from"./InputLabel-C8efUdP_.js";import{B as v}from"./button-eWlrO1vI.js";import{S as B}from"./AdminLayout-Ch0RJaaH.js";import{S as E}from"./SelectField-D1KU0e9Z.js";import{T as d}from"./textarea-DuLHQFIs.js";import{P as u}from"./ParticipantSection-DsTcKCG5.js";import{t as x,T as L}from"./index-BxD4ZtM3.js";import{c as A}from"./createLucideIcon-DUzL0oSb.js";import{R as T}from"./rotate-ccw-DgX9TvGC.js";import{S as D}from"./save-Dzd1BD8X.js";import"./breadcrumb-ZXvPNnk5.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./chevron-right-9pm6d_Wd.js";import"./sidebar-CmbCP2Gp.js";import"./input-C3invO0g.js";import"./index-a0Ptbf1R.js";import"./index-D20yT8t5.js";import"./floating-ui.react-dom-CDryE2et.js";import"./x-CoOb-UyO.js";import"./skeleton-DNA1kKC7.js";import"./tooltip-DJWjtVs0.js";import"./nav-user-CUeqll6F.js";import"./avatar-CT_f4ETp.js";import"./dropdown-menu-BIG2J05K.js";import"./check-BlEJph0r.js";import"./useAppUrl-CjqOY4Q6.js";import"./users-round-Dhttk4ok.js";import"./heart-pulse-DEWB0aq-.js";import"./chevron-up-DDsNXP0q.js";import"./index-YqE4AmIH.js";import"./iconBase-CyZ4dN64.js";import"./DropdownInputField-CATmAO2Q.js";import"./constants-DEVjsWMH.js";/**
========
import{K as R,m as k,r as h,j as e,L as S}from"./app-D2VBHUnE.js";import I from"./BreadcrumbsHeader-D50VREse.js";import{I as i}from"./InputError-BL45JlCV.js";import{I as p}from"./InputField-CpgW95UT.js";import{I as l}from"./InputLabel-k09HPs3i.js";import{B as v}from"./button-JXF2cuM-.js";import{S as B}from"./AdminLayout-BvapmRau.js";import{S as E}from"./SelectField-COOdf5oK.js";import{T as d}from"./textarea-9wUd1fbN.js";import{P as u}from"./ParticipantSection-CH7RU5R3.js";import{t as x,T as L}from"./index-CmbHX13U.js";import{c as A}from"./createLucideIcon-qFzIO3KD.js";import{R as T}from"./rotate-ccw-B0YuVpYV.js";import{S as D}from"./save-BaKVc_aw.js";import"./breadcrumb-D0WyvY7Z.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./chevron-right-BJZaoRcX.js";import"./sidebar-MVOyybzj.js";import"./input-CsX4RkmY.js";import"./index-6s3vvleY.js";import"./index-C2GEi9Oq.js";import"./floating-ui.react-dom-DwQNVWkT.js";import"./x-DtldsTYz.js";import"./skeleton-CZuzpLfI.js";import"./tooltip-Cb0wL2_a.js";import"./nav-user-BCj3xiYY.js";import"./avatar-7KytdQpz.js";import"./dropdown-menu-DG5UGZdM.js";import"./check-C5u2RFjT.js";import"./useAppUrl-BohVm5NF.js";import"./users-round-CjEM6b0u.js";import"./heart-pulse-Bpcsk9jC.js";import"./chevron-up-CnPsG_gG.js";import"./index-DoJK41tF.js";import"./iconBase-CwqvEYsG.js";import"./DropdownInputField-DZmkJTl1.js";import"./constants-B2gvBLga.js";/**
>>>>>>>> 80c2705af2b118d58401176cb54388a976789fdd:public/build/assets/Create-kGgx0kEx.js
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],O=A("file-pen-line",M);function ye({residents:g}){const j=[{label:"Katarungang Pambarangay",showOnMobile:!1},{label:"Blotter Reports",href:route("blotter_report.index"),showOnMobile:!1},{label:"Create a Blotter Report",showOnMobile:!0}],o=R().props,m=(o==null?void 0:o.success)??null,n=(o==null?void 0:o.error)??null,{data:a,setData:s,post:b,errors:r,reset:f}=k({type_of_incident:"",narrative_details:"",actions_taken:"",report_status:"",location:"",resolution:"",recommendations:"",incident_date:"",recorded_by:null,complainants:[{resident_id:""}],respondents:[{resident_id:""}],witnesses:[{resident_id:""}],attachments:[]}),_=t=>{t.preventDefault(),b(route("blotter_report.store"),{onError:y=>{const N=Object.values(y).map((w,C)=>`<div key=${C}> ${w}</div>`);x.error("Validation Error",{description:e.jsx("div",{dangerouslySetInnerHTML:{__html:N.join("")}}),duration:4e3,closeButton:!0})}})},c=g.map(t=>({value:t.id,label:`${t.firstname} ${t.middlename?t.middlename+" ":""}${t.lastname}${t.suffix?", "+t.suffix:""}`,...t}));return h.useEffect(()=>{m&&(handleModalClose(),x.success(m,{description:"Operation successful!",duration:3e3,closeButton:!0})),o.success=null},[m]),h.useEffect(()=>{n&&x.error(n,{description:"Operation failed!",duration:3e3,closeButton:!0}),o.error=null},[n]),e.jsxs(B,{children:[e.jsx(S,{title:"Blotter Report"}),e.jsx(L,{richColors:!0}),e.jsx(I,{breadcrumbs:j}),e.jsx("div",{children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 my-2",children:e.jsxs("div",{className:" my-2 p-2",children:[n&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:n}),e.jsx("div",{children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 mb-6 bg-gray-50 rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(O,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-2xl font-semibold text-gray-800 mb-1",children:"Blotter Report Form"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fill out the details of the incident, including participants, actions, and recommendations. Ensure all required fields are completed before submitting."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx(p,{label:"Type of Incident",name:"type_of_incident",value:a.type_of_incident,onChange:t=>s("type_of_incident",t.target.value),placeholder:"Ex: Theft, Violence"}),e.jsx(i,{message:r.type_of_incident,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(p,{type:"datetime-local",label:"Incident Date & Time",name:"incident_date",value:a.incident_date,onChange:t=>s("incident_date",t.target.value)}),e.jsx(i,{message:r.incident_date,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(p,{label:"Location",name:"location",value:a.location,onChange:t=>s("location",t.target.value),placeholder:"Incident Location"}),e.jsx(i,{message:r.location,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{label:"Report Status",name:"report_status",value:a.report_status||"",onChange:t=>s("report_status",t.target.value),items:[{label:"Pending",value:"pending"},{label:"On Going",value:"on_going"},{label:"Resolved",value:"resolved"},{label:"Elevated",value:"elevated"}],placeholder:"Select Status"}),e.jsx(i,{message:r.report_status,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Narrative Details"}),e.jsx(d,{name:"narrative_details",value:a.narrative_details,onChange:t=>s("narrative_details",t.target.value),placeholder:"Describe what happened in details...",rows:5}),e.jsx(i,{message:r.narrative_details,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Actions Taken"}),e.jsx(d,{name:"actions_taken",value:a.actions_taken,onChange:t=>s("actions_taken",t.target.value),placeholder:"What immediate actions were taken?",rows:5}),e.jsx(i,{message:r.actions_taken,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Resolution"}),e.jsx(d,{name:"resolution",value:a.resolution,onChange:t=>s("resolution",t.target.value),placeholder:"Resolution or settlement details...",rows:4}),e.jsx(i,{message:r.resolution,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Recommendations"}),e.jsx(d,{name:"recommendations",value:a.recommendations,onChange:t=>s("recommendations",t.target.value),placeholder:"Any recommendations for next steps...",rows:4}),e.jsx(i,{message:r.recommendations,className:"mt-1"})]})]}),e.jsx(u,{title:"Complainants",dataArray:a.complainants,setDataArray:t=>s("complainants",t),errors:r,residentsList:c}),e.jsx(u,{title:"Respondents",dataArray:a.respondents,setDataArray:t=>s("respondents",t),errors:r,residentsList:c}),e.jsx(u,{title:"Witnesses",dataArray:a.witnesses,setDataArray:t=>s("witnesses",t),errors:r,residentsList:c}),e.jsxs("div",{className:"flex w-full justify-end items-center mt-4 gap-4 pt-0",children:[e.jsxs(v,{type:"button",onClick:()=>f(),variant:"outline",className:"text-gray-600 border-gray-300 hover:bg-gray-50 transition duration-150",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Reset Form"]}),e.jsxs(v,{type:"submit",className:"w-40 bg-blue-600 hover:bg-blue-700 transition duration-150 shadow-md",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Submit Report"]})]})]})})]})})})})]})}export{ye as default};
