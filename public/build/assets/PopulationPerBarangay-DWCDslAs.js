import{j as t}from"./app-CSbLTV9t.js";import{B as m,Y as p,a as f,L as x}from"./BarChart-BligJuy-.js";import{C as u}from"./CartesianGrid-D0le-H4a.js";import{T as j}from"./Tooltip-CncnyhqP.js";import"./CategoricalChart-BYydL1pq.js";import"./clsx-B-dksMZM.js";import"./string-CFFdVFMV.js";import"./Label-CAYtwpj9.js";import"./index-CLKsPuj0.js";const g=({active:a,payload:e,isPurokView:s})=>{if(a&&e&&e.length){const n=e[0].payload.name,o=e[0].value,r=s?"Purok":"Barangay";return t.jsxs("div",{className:"bg-white px-4 py-2 shadow-lg rounded-2xl border border-gray-200 text-sm text-gray-800 min-w-[140px]",children:[t.jsx("p",{className:"font-semibold text-gray-700",children:`${r}: ${n}`}),t.jsxs("p",{className:"font-semibold text-gray-700",children:["Population: ",t.jsx("span",{className:"font-bold",children:o.toLocaleString()})]})]})}return null},y=a=>{const{x:e,y:s,width:n,height:o,value:r}=a,l=e+n/2,c=s+o/2;return t.jsx("text",{x:l,y:c,fill:"#1e3a8a",textAnchor:"middle",dominantBaseline:"middle",transform:`rotate(-90, ${l}, ${c})`,style:{fontSize:"10px",fontWeight:"bold",pointerEvents:"none"},children:r})};function A({populationPerBarangay:a,isPurokView:e=!1}){const s=e?"Population Distribution per Purok":"Population Distribution per Barangay",o=Object.entries(a).map(([i,h])=>({name:i,value:h})).filter(i=>i.value>0),r=50,l=600,c=o.length*r,d=Math.max(c,l);return t.jsxs("div",{className:"w-full h-[280px] p-4 flex flex-col",children:[t.jsxs("h3",{className:"text-gray-700 font-semibold text-lg mb-4",children:[s," "]}),t.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden",children:t.jsxs(m,{width:d,height:260,data:o,margin:{top:15,right:10,left:-25,bottom:80},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"whiteToBlue",x1:"0",y1:"1",x2:"0",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:1}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:1})]})}),t.jsx(u,{strokeDasharray:"2 2"}),t.jsx(p,{tick:{fontSize:10}}),t.jsx(j,{content:t.jsx(g,{isPurokView:e})}),t.jsxs(f,{dataKey:"value",fill:"url(#whiteToBlue)",barSize:35,radius:[10,10,0,0],children:[t.jsx(x,{dataKey:"value",position:"top",formatter:i=>i.toLocaleString(),style:{fontSize:"12px",fill:"#1e3a8a",fontWeight:"bold"}}),t.jsx(x,{dataKey:"name",content:t.jsx(y,{})})]})]})})]})}export{A as default};
